{"ast":null,"code":"// AdminPage.jsx\nimport React,{useEffect,useState}from\"react\";import axios from\"axios\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminPage(){const[users,setUsers]=useState([]);const[form,setForm]=useState({username:\"\",password:\"\",avatar:\"\"});const fetchUsers=async()=>{const res=await axios.get(\"/api/users\");setUsers(res.data);};const handleSubmit=async e=>{e.preventDefault();await axios.post(\"/api/users\",form);setForm({username:\"\",password:\"\",avatar:\"\"});fetchUsers();};useEffect(()=>{fetchUsers();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-box\",style:{maxWidth:600,alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Qu\\u1EA3n l\\xFD ng\\u01B0\\u1EDDi d\\xF9ng\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"T\\xEAn ng\\u01B0\\u1EDDi d\\xF9ng\",value:form.username,onChange:e=>setForm({...form,username:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"M\\u1EADt kh\\u1EA9u\",value:form.password,onChange:e=>setForm({...form,password:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"URL Avatar\",value:form.avatar,onChange:e=>setForm({...form,avatar:e.target.value})}),/*#__PURE__*/_jsxs(\"select\",{value:form.role||\"user\",onChange:e=>setForm({...form,role:e.target.value}),style:{width:\"100%\",padding:\"10px\",marginBottom:\"20px\",borderRadius:\"10px\"},children:[/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"Ng\\u01B0\\u1EDDi d\\xF9ng\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Qu\\u1EA3n tr\\u1ECB\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Th\\xEAm ng\\u01B0\\u1EDDi d\\xF9ng\"})]}),/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:\"30px\"},children:\"Danh s\\xE1ch ng\\u01B0\\u1EDDi d\\xF9ng\"}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:\"none\",padding:0,width:\"100%\"},children:users.map(user=>/*#__PURE__*/_jsxs(\"li\",{style:{background:\"#eee\",borderRadius:8,padding:10,marginBottom:8,display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"img\",{src:user.avatar,alt:\"avatar\",style:{width:32,height:32,borderRadius:\"50%\",marginRight:10}}),user.username]},user.id))})]})});}export default AdminPage;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","AdminPage","users","setUsers","form","setForm","username","password","avatar","fetchUsers","res","get","data","handleSubmit","e","preventDefault","post","className","children","style","maxWidth","alignItems","onSubmit","width","type","placeholder","value","onChange","target","required","role","padding","marginBottom","borderRadius","marginTop","listStyle","map","user","background","display","src","alt","height","marginRight","id"],"sources":["C:/chat-app/client/src/AdminPage.jsx"],"sourcesContent":["// AdminPage.jsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./App.css\";\r\n\r\nfunction AdminPage() {\r\n  const [users, setUsers] = useState([]);\r\n  const [form, setForm] = useState({ username: \"\", password: \"\", avatar: \"\" });\r\n\r\n  const fetchUsers = async () => {\r\n    const res = await axios.get(\"/api/users\");\r\n    setUsers(res.data);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    await axios.post(\"/api/users\", form);\r\n    setForm({ username: \"\", password: \"\", avatar: \"\" });\r\n    fetchUsers();\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-box\" style={{ maxWidth: 600, alignItems: \"center\" }}>\r\n        <h2>Quản lý người dùng</h2>\r\n\r\n        <form onSubmit={handleSubmit} style={{ width: \"100%\" }}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Tên người dùng\"\r\n            value={form.username}\r\n            onChange={(e) => setForm({ ...form, username: e.target.value })}\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Mật khẩu\"\r\n            value={form.password}\r\n            onChange={(e) => setForm({ ...form, password: e.target.value })}\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"URL Avatar\"\r\n            value={form.avatar}\r\n            onChange={(e) => setForm({ ...form, avatar: e.target.value })}\r\n          />\r\n          <select\r\n            value={form.role || \"user\"}\r\n            onChange={(e) => setForm({ ...form, role: e.target.value })}\r\n            style={{ width: \"100%\", padding: \"10px\", marginBottom: \"20px\", borderRadius: \"10px\" }}\r\n         >\r\n            <option value=\"user\">Người dùng</option>\r\n            <option value=\"admin\">Quản trị</option>\r\n        </select>\r\n          <button type=\"submit\">Thêm người dùng</button>\r\n        </form>\r\n\r\n        <h3 style={{ marginTop: \"30px\" }}>Danh sách người dùng</h3>\r\n        <ul style={{ listStyle: \"none\", padding: 0, width: \"100%\" }}>\r\n          {users.map((user) => (\r\n            <li\r\n              key={user.id}\r\n              style={{\r\n                background: \"#eee\",\r\n                borderRadius: 8,\r\n                padding: 10,\r\n                marginBottom: 8,\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <img\r\n                src={user.avatar}\r\n                alt=\"avatar\"\r\n                style={{ width: 32, height: 32, borderRadius: \"50%\", marginRight: 10 }}\r\n              />\r\n              {user.username}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}